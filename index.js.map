{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/* =========================================\n   1. INITIALIZATION (LIBRARIES)\n   ========================================= */\n\n// Инициализация иконок Lucide\nif (typeof lucide !== 'undefined') {\n  lucide.createIcons();\n}\n\n// Инициализация плавного скролла (Lenis)\nlet lenis;\nif (typeof Lenis !== 'undefined') {\n  lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      orientation: 'vertical',\n      smoothWheel: true\n  });\n\n  // Animation Loop для Lenis\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n}\n\n/* =========================================\n 2. DOM LOGIC & ANIMATIONS\n ========================================= */\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\n  // --- A. MOBILE MENU ---\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.header__link');\n\n  if (burger && nav) {\n      burger.addEventListener('click', () => {\n          nav.classList.toggle('is-open');\n          burger.classList.toggle('is-active');\n      });\n\n      navLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              nav.classList.remove('is-open');\n              if (burger.classList.contains('is-active')) {\n                  burger.classList.remove('is-active');\n              }\n          });\n      });\n  }\n\n  // --- B. GSAP ANIMATIONS ---\n  if (typeof gsap !== 'undefined') {\n      gsap.registerPlugin(ScrollTrigger);\n\n      // 1. HERO SECTION ANIMATION\n      // Проверяем наличие элемента перед анимацией\n      if (document.querySelector('#hero-title')) {\n          const heroTextPlain = new SplitType('#hero-text-plain', { types: 'chars' });\n\n          const tl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n\n          tl\n          // Бейдж\n          .to('.hero__badge', { y: 0, opacity: 1, duration: 0.8 })\n\n          // \"Воплотите мечты\" (по буквам)\n          .from(heroTextPlain.chars, {\n              y: 100, opacity: 0, stagger: 0.03, duration: 1, ease: \"back.out(1.7)\"\n          }, \"-=0.4\")\n\n          // \"в реальность\" (Градиент - Безопасный метод)\n          // Анимируем ИЗ невидимого состояния, так как в CSS он теперь видим\n          .from('#hero-text-gradient', {\n              y: 20, opacity: 0, duration: 1\n          }, \"-=0.8\")\n\n          // Остальные элементы Hero\n          .to('.hero__text', { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n          .to('.hero__actions', { y: 0, opacity: 1, duration: 0.8 }, \"-=0.6\")\n          .to('.hero__stats', { opacity: 1, duration: 0.8 }, \"-=0.6\")\n          .to('.hero__visual', { scale: 1, opacity: 1, duration: 1.2, ease: \"elastic.out(1, 0.75)\" }, \"-=1\");\n      }\n\n      // 2. SCROLL ANIMATIONS (SECTIONS)\n      // Анимируем все элементы с атрибутом data-animate\n      const animateElements = document.querySelectorAll('[data-animate]');\n\n      animateElements.forEach(el => {\n          gsap.fromTo(el,\n              { y: 50, opacity: 0 }, // Начальное состояние\n              {\n                  y: 0,\n                  opacity: 1,\n                  duration: 0.8,\n                  ease: \"power2.out\",\n                  scrollTrigger: {\n                      trigger: el,\n                      start: \"top 85%\", // Старт анимации, когда верх элемента на 85% экрана\n                      toggleActions: \"play none none reverse\" // Играть при скролле вниз, реверс при скролле вверх\n                  }\n              }\n          );\n      });\n  }\n\n  // --- C. FAQ ACCORDION ---\n  const faqItems = document.querySelectorAll('.faq__question');\n  faqItems.forEach(btn => {\n      btn.addEventListener('click', () => {\n          const item = btn.parentElement;\n          const answer = item.querySelector('.faq__answer');\n          const isActive = btn.classList.contains('is-active');\n\n          // Закрываем все остальные\n          document.querySelectorAll('.faq__question').forEach(b => {\n              b.classList.remove('is-active');\n              b.parentElement.querySelector('.faq__answer').style.maxHeight = null;\n          });\n\n          // Открываем текущий, если он был закрыт\n          if (!isActive) {\n              btn.classList.add('is-active');\n              answer.style.maxHeight = answer.scrollHeight + \"px\";\n          }\n      });\n  });\n\n  // --- D. CONTACT FORM & CAPTCHA ---\n  const form = document.getElementById('contactForm');\n  if (form) {\n      const phoneInput = document.getElementById('phone');\n      const captchaLabel = document.getElementById('captchaLabel');\n      const captchaInput = document.getElementById('captchaInput');\n      const statusDiv = document.getElementById('formStatus');\n\n      // Только цифры в телефоне\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/\\D/g, '');\n      });\n\n      // Генерация капчи (Математика)\n      let num1 = Math.floor(Math.random() * 10);\n      let num2 = Math.floor(Math.random() * 10);\n      let captchaResult = num1 + num2;\n\n      // Функция обновления капчи\n      const refreshCaptcha = () => {\n          num1 = Math.floor(Math.random() * 10);\n          num2 = Math.floor(Math.random() * 10);\n          captchaResult = num1 + num2;\n          captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n          captchaInput.value = '';\n      };\n\n      // Инициализация капчи\n      refreshCaptcha();\n\n      form.addEventListener('submit', (e) => {\n          e.preventDefault();\n          let isValid = true;\n          statusDiv.textContent = '';\n          statusDiv.className = 'form-status';\n\n          // Проверка обязательных полей\n          const inputs = form.querySelectorAll('input[required]');\n          inputs.forEach(input => {\n              const group = input.closest('.form-group');\n              if (!input.value) {\n                  group?.classList.add('error');\n                  isValid = false;\n              } else {\n                  group?.classList.remove('error');\n              }\n          });\n\n          // Проверка длины телефона\n          if (phoneInput.value.length < 10) {\n               phoneInput.closest('.form-group').classList.add('error');\n               isValid = false;\n          }\n\n          // Проверка капчи\n          if (parseInt(captchaInput.value) !== captchaResult) {\n              captchaInput.closest('.form-group').classList.add('error');\n              isValid = false;\n          } else {\n              captchaInput.closest('.form-group').classList.remove('error');\n          }\n\n          if (isValid) {\n              // Имитация отправки\n              const btn = form.querySelector('button[type=\"submit\"]');\n              const originalText = btn.innerHTML;\n              btn.innerHTML = 'Отправка...';\n              btn.disabled = true;\n\n              setTimeout(() => {\n                  statusDiv.textContent = 'Заявка успешно отправлена! Мы свяжемся с вами.';\n                  statusDiv.classList.add('success');\n                  form.reset();\n                  btn.innerHTML = originalText;\n                  btn.disabled = false;\n                  refreshCaptcha(); // Обновляем капчу после успеха\n              }, 1500);\n          } else {\n              statusDiv.textContent = 'Пожалуйста, проверьте правильность заполнения полей.';\n              statusDiv.classList.add('error-msg-text'); // Можно добавить стиль для текста ошибки\n          }\n      });\n  }\n\n  // --- E. COOKIE POPUP ---\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookie = document.getElementById('acceptCookie');\n\n  if (cookiePopup && !localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('is-visible');\n      }, 2000);\n  }\n\n  if (acceptCookie) {\n      acceptCookie.addEventListener('click', () => {\n          localStorage.setItem('cookiesAccepted', 'true');\n          cookiePopup.classList.remove('is-visible');\n      });\n  }\n\n  // Обновляем иконки Lucide для новых элементов DOM\n  lucide.createIcons();\n});"],"names":["lenis","raf","time","t","burger","nav","navLinks","link","heroTextPlain","el","btn","answer","isActive","b","form","phoneInput","captchaLabel","captchaInput","statusDiv","e","num1","num2","captchaResult","refreshCaptcha","isValid","input","group","originalText","cookiePopup","acceptCookie"],"mappings":"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"}